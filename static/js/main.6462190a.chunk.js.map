{"version":3,"sources":["api.ts","components/Contex/FilterContex.tsx","components/TodoList/TodoList.tsx","components/TodoFilter/TodoFilter.tsx","components/Loader/Loader.tsx","components/TodoModal/TodoModal.tsx","App.tsx","index.tsx"],"names":["get","url","delay","fullURL","Promise","resolve","setTimeout","then","fetch","res","json","getTodos","FilterContext","React","createContext","filter","select","query","modalOn","todo","completed","id","title","userId","setFilter","TodoFiltersProvider","children","useState","Provider","value","TodoList","todos","setTodos","useContext","useEffect","selectedTodos","item","className","split","join","toLowerCase","includes","trim","map","type","onClick","TodoFilter","onSubmit","event","preventDefault","onChange","e","target","placeholder","style","pointerEvents","length","Loader","TodoModal","user","setUser","loaderOn","setLoaderOn","finally","href","email","name","App","listLoader","setListLoader","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6462190a.chunk.js","sourcesContent":["import { Todo } from './types/Todo';\nimport { User } from './types/User';\n\n// eslint-disable-next-line max-len\nconst BASE_URL = 'https://mate-academy.github.io/react_dynamic-list-of-todos/api';\n\n// This function creates a promise\n// that is resolved after a given delay\nfunction wait(delay: number): Promise<void> {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\nfunction get<T>(url: string): Promise<T> {\n  // eslint-disable-next-line prefer-template\n  const fullURL = BASE_URL + url + '.json';\n\n  // we add some delay to see how the loader works\n  return wait(300)\n    .then(() => fetch(fullURL))\n    .then(res => res.json());\n}\n\nexport const getTodos = () => get<Todo[]>('/todos');\n\nexport const getUser = (userId: number) => get<User>(`/users/${userId}`);\n","import React, { useState } from 'react';\n\nexport const FilterContext = React.createContext({\n  filter: {\n    select: 'all',\n    query: '',\n    modalOn: false,\n    todo: {\n      completed: false,\n      id: 0,\n      title: '',\n      userId: 0,\n    },\n  },\n  setFilter: {} as React.Dispatch<React.SetStateAction<{\n    select:string,\n    query:string,\n    modalOn: boolean,\n    todo: {\n      completed: boolean,\n      id: number,\n      title: string,\n      userId: number,\n    }, }>>,\n});\ntype Props = {\n  children:React.ReactNode\n};\n\nexport const TodoFiltersProvider : React.FC<Props> = ({ children }) => {\n  const [filter, setFilter] = useState({\n    select: 'all',\n    query: '',\n    modalOn: false,\n    todo: {\n      completed: false,\n      id: 0,\n      title: '',\n      userId: 0,\n    },\n  });\n\n  return (\n    <FilterContext.Provider value={{ filter, setFilter }}>\n      {children}\n    </FilterContext.Provider>\n  );\n};\n","import React, { useEffect, useState, useContext } from 'react';\nimport { getTodos } from '../../api';\nimport { Todo } from '../../types/Todo';\nimport { FilterContext } from '../Contex/FilterContex';\n\nexport const TodoList: React.FC = () => {\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const { filter, setFilter } = useContext(FilterContext);\n  const { select, query } = filter;\n\n  useEffect(() => {\n    getTodos()\n      .then(setTodos);\n  }, []);\n\n  const selectedTodos = () => {\n    switch (select) {\n      case ('active'):\n        return todos.filter(item => item.completed === false);\n      case ('completed'):\n        return todos.filter(item => item.completed === true);\n      default:\n        return todos;\n    }\n  };\n\n  const filteredTodos = () => {\n    if (query) {\n      // eslint-disable-next-line max-len\n      return selectedTodos().filter(item => item.title.split(' ').join('').toLowerCase()\n        .includes(query.trim().toLowerCase()));\n    }\n\n    return selectedTodos();\n  };\n\n  return (\n    <table className=\"table is-narrow is-fullwidth\">\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>\n            <span className=\"icon\">\n              <i className=\"fas fa-check\" />\n            </span>\n          </th>\n          <th>Title</th>\n          <th> </th>\n        </tr>\n      </thead>\n\n      <tbody>\n        {filteredTodos().map(todo => (\n          <tr data-cy=\"todo\" key={todo.id} className=\"\">\n            <td className=\"is-vcentered\">{todo.id}</td>\n            <td className=\"is-vcentered\">\n              {todo.completed && (\n                <span className=\"icon\" data-cy=\"iconCompleted\">\n                  <i className=\"fas fa-check\" />\n                </span>\n              )}\n            </td>\n            <td className=\"is-vcentered is-expanded\">\n              <p className={`has-text-${todo.completed ? 'success' : 'danger'}`}>{todo.title}</p>\n            </td>\n            <td className=\"has-text-right is-vcentered\">\n              <button\n                data-cy=\"selectButton\"\n                className=\"button\"\n                type=\"button\"\n                onClick={() => setFilter((item) => ({\n                  ...item, todo, modalOn: true,\n                }))}\n              >\n                <span className=\"icon\">\n                  <i className=\"far fa-eye\" />\n                </span>\n              </button>\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n","import { useContext } from 'react';\nimport { FilterContext } from '../Contex/FilterContex';\n\nexport const TodoFilter = () => {\n  const { filter, setFilter } = useContext(FilterContext);\n\n  return (\n    <form\n      onSubmit={(event) => event.preventDefault()}\n      className=\"field has-addons\"\n    >\n      <p className=\"control\">\n        <span className=\"select\">\n          <select\n            // eslint-disable-next-line max-len\n            onChange={e => setFilter((item) => (\n              { ...item, select: e.target.value }))}\n            data-cy=\"statusSelect\"\n          >\n            <option value=\"all\">All</option>\n            <option value=\"active\">Active</option>\n            <option value=\"completed\">Completed</option>\n          </select>\n        </span>\n      </p>\n\n      <p className=\"control is-expanded has-icons-left has-icons-right\">\n        <input\n          data-cy=\"searchInput\"\n          type=\"text\"\n          className=\"input\"\n          placeholder=\"Search...\"\n          value={filter.query}\n          // eslint-disable-next-line max-len\n          onChange={(e) => setFilter((item) => ({ ...item, query: e.target.value }))}\n        />\n        <span className=\"icon is-left\">\n          <i className=\"fas fa-magnifying-glass\" />\n        </span>\n\n        <span className=\"icon is-right\" style={{ pointerEvents: 'all' }}>\n          {filter.query.length !== 0\n          && (\n            // eslint-disable-next-line jsx-a11y/control-has-associated-label\n            <button\n              data-cy=\"clearSearchButton\"\n              type=\"button\"\n              className=\"delete\"\n              onClick={() => setFilter((item) => ({ ...item, query: '' }))}\n            />\n          )}\n        </span>\n      </p>\n    </form>\n  );\n};\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader: React.FC = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React, { useContext, useState, useEffect } from 'react';\nimport { Loader } from '../Loader';\nimport { FilterContext } from '../Contex/FilterContex';\nimport { getUser } from '../../api';\nimport { User } from '../../types/User';\n\nexport const TodoModal: React.FC = () => {\n  const [user, setUser] = useState<User>();\n  const [loaderOn, setLoaderOn] = useState(false);\n  const { filter, setFilter } = useContext(FilterContext);\n  const { todo } = filter;\n\n  useEffect(() => {\n    setLoaderOn(true);\n    getUser(todo.userId)\n      .then(setUser)\n      .finally(() => setLoaderOn(false));\n  }, [todo.userId]);\n\n  return (\n    <div className=\"modal is-active\" data-cy=\"modal\">\n      <div className=\"modal-background\" />\n\n      {loaderOn ? <Loader />\n        : (\n          <div className=\"modal-card\">\n            <header className=\"modal-card-head\">\n              <div\n                className=\"modal-card-title has-text-weight-medium\"\n                data-cy=\"modal-header\"\n              >\n                {`Todo #${todo.id}`}\n              </div>\n\n              {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n              <button\n                type=\"button\"\n                className=\"delete\"\n                data-cy=\"modal-close\"\n                onClick={() => (setFilter((item) => ({\n                  ...item,\n                  modalOn: false,\n                })))}\n              />\n            </header>\n\n            <div className=\"modal-card-body\">\n              <p className=\"block\" data-cy=\"modal-title\">\n                {todo.title}\n              </p>\n\n              <p className=\"block\" data-cy=\"modal-user\">\n                {todo.completed\n                  ? <strong className=\"has-text-success\">Done</strong>\n                  : <strong className=\"has-text-danger\">Planned</strong>}\n\n                {' by '}\n\n                <a href={`mailto:${user?.email}`}>\n                  {user?.name}\n                </a>\n              </p>\n            </div>\n          </div>\n        ) }\n\n    </div>\n  );\n};\n","/* eslint-disable max-len */\nimport React, { useContext, useEffect, useState } from 'react';\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { TodoList } from './components/TodoList';\nimport { TodoFilter } from './components/TodoFilter';\nimport { TodoModal } from './components/TodoModal';\nimport { Loader } from './components/Loader';\nimport { FilterContext } from './components/Contex/FilterContex';\nimport { getTodos } from './api';\n\nexport const App: React.FC = () => {\n  const { filter } = useContext(FilterContext);\n  const { modalOn } = filter;\n  const [listLoader, setListLoader] = useState(false);\n\n  useEffect(() => {\n    setListLoader(true);\n    getTodos().finally(() => setListLoader(false));\n  }, []);\n\n  return (\n    <>\n      <div className=\"section\">\n        <div className=\"container\">\n          <div className=\"box\">\n            <h1 className=\"title\">Todos:</h1>\n\n            <div className=\"block\">\n              <TodoFilter />\n            </div>\n\n            <div className=\"block\">\n              {listLoader ? <Loader />\n                : <TodoList />}\n            </div>\n          </div>\n        </div>\n      </div>\n      {modalOn && <TodoModal />}\n\n    </>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\nimport { TodoFiltersProvider } from './components/Contex/FilterContex';\n\nReactDOM.render(\n  <TodoFiltersProvider>\n    <App />\n    ,\n  </TodoFiltersProvider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}